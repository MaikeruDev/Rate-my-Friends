!function(e,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports,require("@angular/core"),require("firebaseui"),require("@angular/fire"),require("@angular/fire/auth"),require("firebase/auth"),require("firebase/app"),require("@angular/common")):"function"==typeof define&&define.amd?define("firebaseui-angular",["exports","@angular/core","firebaseui","@angular/fire","@angular/fire/auth","firebase/auth","firebase/app","@angular/common"],i):i((e="undefined"!=typeof globalThis?globalThis:e||self)["firebaseui-angular"]={},e.ng.core,e.firebaseui$1,e.ng.fire,e.ng.fire.auth,null,e.firebaseOriginal,e.ng.common)}(this,(function(e,i,t,r,n,a,u,s){"use strict";function o(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function f(e){if(e&&e.__esModule)return e;var i=Object.create(null);return e&&Object.keys(e).forEach((function(t){if("default"!==t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(i,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})}})),i.default=e,Object.freeze(i)}var c=f(t),l=o(u),b=function(e,i,n){var a=r.ÉµfirebaseAppFactory(e,n,i);window.firebaseUiInstance||(window.firebaseUiInstance=new t.auth.AuthUI(a.auth())),this.firebaseUiInstance=window.firebaseUiInstance};b.decorators=[{type:i.Injectable}],b.ctorParameters=function(){return[{type:void 0,decorators:[{type:i.Inject,args:[r.FIREBASE_OPTIONS]}]},{type:void 0,decorators:[{type:i.Optional},{type:i.Inject,args:[r.FIREBASE_APP_NAME]}]},{type:i.NgZone}]};var g=function(){function e(e,t,r,n,a){this.angularFireAuth=e,this._firebaseUiConfig=t,this._firebaseUiConfig_Feature=r,this.ngZone=n,this.firebaseUIService=a,this.signInSuccessWithAuthResultCallback=new i.EventEmitter,this.signInFailureCallback=new i.EventEmitter,this.uiShownCallback=new i.EventEmitter}return Object.defineProperty(e.prototype,"firebaseUiConfig",{get:function(){return Object.assign(Object.assign({},this._firebaseUiConfig),this._firebaseUiConfig_Feature)},enumerable:!1,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this.subscription=this.angularFireAuth.authState.subscribe((function(i){if(i&&i.isAnonymous||!i){if(0===e.firebaseUiConfig.signInOptions.length)throw new Error("There must be at least one AuthProvider.");e.firebaseUIPopup()}}))},e.prototype.ngOnDestroy=function(){this.subscription&&this.subscription.unsubscribe()},e.prototype.getUIAuthConfig=function(){return this.firebaseUiConfig.callbacks||(this._firebaseUiConfig[e.COMPUTED_CALLBACKS]=!0,this._firebaseUiConfig.callbacks=this.getCallbacks()),this.firebaseUiConfig},e.prototype.firebaseUIPopup=function(){var i=this.firebaseUIService.firebaseUiInstance,t=this.getUIAuthConfig(),r=!1;t[e.COMPUTED_CALLBACKS]&&(r=!0,delete t[e.COMPUTED_CALLBACKS]),i.start("#firebaseui-auth-container",t),r&&(this._firebaseUiConfig.callbacks=null)},e.prototype.getCallbacks=function(){var e=this;return{signInSuccessWithAuthResult:function(i,t){return e.ngZone.run((function(){e.signInSuccessWithAuthResultCallback.emit({authResult:i,redirectUrl:t})})),e.firebaseUiConfig.signInSuccessUrl},signInFailure:function(i){return e.ngZone.run((function(){e.signInFailureCallback.emit({code:i.code,credential:i.credential})})),Promise.reject()},uiShown:function(){e.ngZone.run((function(){e.uiShownCallback.emit()}))}}},e}();g.COMPUTED_CALLBACKS="COMPUTED_CALLBACKS",g.decorators=[{type:i.Component,args:[{selector:"firebase-ui",template:'<div id="firebaseui-auth-container"></div>'}]}],g.ctorParameters=function(){return[{type:n.AngularFireAuth},{type:void 0,decorators:[{type:i.Inject,args:["firebaseUIAuthConfig"]}]},{type:void 0,decorators:[{type:i.Inject,args:["firebaseUIAuthConfigFeature"]}]},{type:i.NgZone},{type:b}]},g.propDecorators={signInSuccessWithAuthResultCallback:[{type:i.Output,args:["signInSuccessWithAuthResult"]}],signInFailureCallback:[{type:i.Output,args:["signInFailure"]}],uiShownCallback:[{type:i.Output,args:["uiShown"]}]};var p=l.default,h=c,d=function(){},C=function(){},I=function(){function e(){}return e.forRoot=function(i){return{ngModule:e,providers:[{provide:"firebaseUIAuthConfig",useValue:i},{provide:"firebaseUIAuthConfigFeature",useValue:{}}]}},e.forFeature=function(i){return{ngModule:e,providers:[{provide:"firebaseUIAuthConfigFeature",useValue:i}]}},e}();I.decorators=[{type:i.NgModule,args:[{imports:[s.CommonModule],declarations:[g],providers:[b],exports:[g]}]}],e.FirebaseUIModule=I,e.FirebaseUISignInFailure=C,e.FirebaseUISignInSuccessWithAuthResult=d,e.FirebaseuiAngularLibraryComponent=g,e.FirebaseuiAngularLibraryService=b,e.firebase=p,e.firebaseui=h,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=firebaseui-angular.umd.min.js.map